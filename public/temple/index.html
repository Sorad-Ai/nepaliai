<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />

    <title>Temple Run 2 - topVAZ</title>
    <meta name="robots" content="noindex,nofollow" />
    <link rel="stylesheet" type="text/css" href="global.css" />
    <link rel="manifest" href="appmanifest.json" />
    <link rel="icon" href="img/og-icon.png" />
    <!-- <link rel='stylesheet' type="text/css" href='./bundle.css'> -->
    <style>
      html,
      body {
        overflow: hidden;
        width: 100%;
        height: 100%;
        min-height: 100%;
        max-height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        margin: 0;
        padding: 0;
        -webkit-text-size-adjust: none;
        touch-action: pan-x pan-y;
      }

      /* @media only screen and (orientation:landscape) {
			body {
				transform: rotate(90deg);
			}
		} */
    </style>
    <script defer src="bundle.js"></script>
    <script type="application/javascript" src="/js/main.js"></script>
  </head>

  <body></body>

  <script>
    // Function to focus the element by id 't' and trigger a specific key press
    function focusAndPressKey(keyCode, keyValue) {
      const gameElement = document.getElementById("app");
      if (gameElement) {
        gameElement.focus();
        const keyPressEvent = new KeyboardEvent("keydown", {
          key: keyValue,
          code: keyValue,
          keyCode: keyCode,
          which: keyCode,
          bubbles: true,
        });
        gameElement.dispatchEvent(keyPressEvent);
      }
    }

    // Listen for custom event from the parent window to trigger different key presses
    window.addEventListener("message", (event) => {
      switch (event.data) {
        case "Up":
          focusAndPressKey(38, "ArrowUp"); // Press 'ArrowUp' for Jump
          break;
        case "Right":
          focusAndPressKey(39, "ArrowRight"); // Press 'ArrowRight' for Right
          break;
        case "Left":
          focusAndPressKey(37, "ArrowLeft"); // Press 'ArrowLeft' for Left
          break;
        case "Down":
          focusAndPressKey(40, "ArrowDown"); // Press 'ArrowDown' for Down
          break;
        case "Pause":
          focusAndPressKey(27, "Escape"); // Press 'Escape' key
          break;
        case "Wow":
          focusAndPressKey(32, "Space");
        default:
          break;
      }
    });
  </script>
</html>
